import{r as o,o as r,c,b as e,a as s,w as l,F as d,d as n,e as i}from"./app.922d555a.js";import{_ as h}from"./plugin-vue_export-helper.21dcd24c.js";const u={},p=e("h1",{id:"how-to-use-the-log4shell-command",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#how-to-use-the-log4shell-command","aria-hidden":"true"},"#"),n(" How to use the log4shell command")],-1),b=e("h2",{id:"introduction",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#introduction","aria-hidden":"true"},"#"),n(" Introduction")],-1),_=e("code",null,"snyk log4shell",-1),m=n(" is a Snyk CLI command, that helps find traces of the "),f=e("strong",null,"log4j",-1),g=n(" library that are affected by the "),y=e("strong",null,"Log4Shell",-1),k=n(" vulnerability ("),v={href:"https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-44228",target:"_blank",rel:"noopener noreferrer"},x=n("CVE-2021-44228"),j=n("), even if this library is not declared in the manifest files (such as pom.xml or build.gradle)."),w=e("p",null,[n("This command tests your built project and third-party applications, and it is complementary to the "),e("code",null,"snyk test"),n(" and "),e("code",null,"snyk test --scan-all-unmanaged"),n(" commands.")],-1),S=n('{% hint style="info" %} Read more about the Log4Shell vulnerability in the Snyk '),I={href:"https://security.snyk.io/vuln/SNYK-JAVA-ORGAPACHELOGGINGLOG4J-2314720",target:"_blank",rel:"noopener noreferrer"},L=n("VulnDB entry"),N=n(". {% endhint %}"),A=n("To test Java projects using their package manager manifest files, see "),C=n("Snyk for Java (Gradle, Maven"),T=n(". To learn more about the "),E=e("code",null,"snyk test --scan-all-unmanaged",-1),G=n(", see the "),O={href:"https://docs.snyk.io/snyk-cli/cli-reference#options-for-maven-projects",target:"_blank",rel:"noopener noreferrer"},V=n("Maven options section of the CLI reference"),F=n("."),R=i('<h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage" aria-hidden="true">#</a> Usage</h2><p>Use <code>snyk log4shell</code> to scan a Java project, to see if the project includes:</p><ul><li>Any <code>.jar</code> or <code>.war</code> files with a vulnerable version of log4j.</li><li>Any files that are known to be present in a vulnerable version of the log4j library. Such a finding indicates that it is possible the whole log4j is included.</li></ul><h2 id="how-to-run" tabindex="-1"><a class="header-anchor" href="#how-to-run" aria-hidden="true">#</a> How to run</h2>',4),B=n("Install the latest version of the Snyk CLI - see "),H=n("Install the Snyk CLI"),J=n("."),P=e("li",null,"Make sure you have built the project.",-1),W=e("li",null,"Navigate to the project directory to scan.",-1),M=e("li",null,[n("Enter "),e("code",null,"snyk log4shell"),n("."),e("br"),e("strong",null,"Note"),n(": this command does not require (nor support) any additional arguments.")],-1),U=i(`<h2 id="scan-results" tabindex="-1"><a class="header-anchor" href="#scan-results" aria-hidden="true">#</a> Scan results</h2><p>Results appear after the scan finishes.</p><p>For example:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ snyk log4shell
Please note this <span class="token builtin class-name">command</span> is <span class="token keyword">for</span> already built artifacts. To <span class="token builtin class-name">test</span> <span class="token builtin class-name">source</span> code use <span class="token variable"><span class="token variable">\`</span>snyk <span class="token builtin class-name">test</span><span class="token variable">\`</span></span><span class="token builtin class-name">.</span>

Results:
A vulnerable version of log4j was detected: 
         demo-0.0.1-SNAPSHOT/WEB-INF/lib/log4j-core-2.14.1.jar
         demo-0.0.1-SNAPSHOT.war/WEB-INF/lib/log4j-core-2.14.1.jar
         demo-0.0.1-SNAPSHOT.war.original/WEB-INF/lib/log4j-core-2.14.1.jar

 We highly recommend fixing this vulnerability. If it cannot be fixed by upgrading, see mitigation information here:
        - https://security.snyk.io/vuln/SNYK-JAVA-ORGAPACHELOGGINGLOG4J-2314720
        - https://snyk.io/blog/log4shell-remediation-cheat-sheet/
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>If no traces of a vulnerable log4j library are found, the results show this:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ snyk log4shell
Please note this command is for already built artifacts. To test source code use \`snyk test\`.

Results:
No known vulnerable version of log4j was detected
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="fix-advice" tabindex="-1"><a class="header-anchor" href="#fix-advice" aria-hidden="true">#</a> Fix advice</h2>`,7),K=n("For more details about fixing the affected packages, see the Snyk "),Y={href:"https://snyk.io/blog/log4shell-remediation-cheat-sheet",target:"_blank",rel:"noopener noreferrer"},$=n("Log4Shell fix cheatsheet"),q=n("."),D=e("h2",{id:"limitations",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#limitations","aria-hidden":"true"},"#"),n(" Limitations")],-1),z=e("ul",null,[e("li",null,"The Snyk CLI compares file signatures to a database of known files. If the Log4Shell vulnerability is fixed in a different way from updating the log4j library, the library is still reported in the results."),e("li",null,"If the source code of the log4j library has been modified, it is detected.")],-1);function Q(X,Z){const a=o("ExternalLinkIcon"),t=o("RouterLink");return r(),c(d,null,[p,b,e("p",null,[_,m,f,g,y,k,e("a",v,[x,s(a)]),j]),w,e("p",null,[S,e("a",I,[L,s(a)]),N]),e("p",null,[A,s(t,{to:"/products/snyk-open-source/language-and-package-manager-support/snyk-for-java-gradle-maven.html"},{default:l(()=>[C]),_:1}),T,E,G,e("a",O,[V,s(a)]),F]),R,e("ol",null,[e("li",null,[B,s(t,{to:"/install-the-snyk-cli/"},{default:l(()=>[H]),_:1}),J]),P,W,M]),U,e("p",null,[K,e("a",Y,[$,s(a)]),q]),D,z],64)}var se=h(u,[["render",Q]]);export{se as default};
